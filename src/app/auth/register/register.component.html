<div class="container">
  <div class="bg pt-3">
    <div class="py-5">
      <p class="text-center">
        <img src="../../../assets/logo_with_text_2.png" width="150px" />
      </p>
      <h4 class="mat-display-1 mb-1 text-center text-white">Create</h4>
      <h2 class="mat-display-2 mb-0 text-center text-white">Account</h2>
    </div>
  </div>
  <div fxLayout="row wrap" fxLayoutGap="30px" fxLayoutAlign="center center">
    <div fxFlex.xs="90" fxFlex.sm="45" fxFlex.md="35" fxFlex.lg="35">
      <form
        class="mt-5"
        #registerForm="ngForm"
        (ngSubmit)="onSubmit(registerForm.value)"
        fxLayout="column"
        fxLayoutGap="5px"
      >
        <div>
          <mat-form-field>
            <input
              matInput
              placeholder="Name"
              name="name"
              [(ngModel)]="name"
              required
            />
            <mat-error *ngIf="registerForm.controls['name']?.invalid"
              >This field is required and not complete.</mat-error
            >
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <input
              type="email"
              matInput
              placeholder="Email"
              name="email"
              [(ngModel)]="email"
              required
            />
            <mat-error *ngIf="registerForm.controls['email']?.invalid"
              >This field is required and not complete.</mat-error
            >
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <mat-select
              placeholder="Country"
              name="country"
              [(ngModel)]="country"
              required
            >
              <mat-option value="Ghana">Ghana</mat-option>
            </mat-select>
            <mat-error *ngIf="registerForm.controls['email']?.invalid"
              >This field is required and not complete.</mat-error
            >
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <input
              type="tel"
              matInput
              placeholder="Phone e.g 0269201707"
              name="phone"
              [(ngModel)]="phone"
              required
              maxlength="10"
              #phonefield
            />
            <mat-error *ngIf="registerForm.controls['phone']?.invalid"
              >This field is required and not complete.</mat-error
            >
            <mat-hint align="end">{{ phonefield.value.length }} / 10</mat-hint>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <input
              [type]="hide ? 'password' : 'text'"
              matInput
              placeholder="Password"
              #input
              name="password"
              [(ngModel)]="password"
              required
              minlength="6"
            />
            <mat-icon
              matSuffix
              (click)="hide = !hide"
              style="cursor: pointer;"
              >{{ hide ? 'visibility' : 'visibility_off' }}</mat-icon
            >
            <mat-hint align="end">{{ input.value?.length || 0 }}</mat-hint>
            <mat-error *ngIf="registerForm.controls['password']?.invalid"
              >Minimum length is 6 and it is required.</mat-error
            >
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <input
              [type]="hide ? 'password' : 'text'"
              matInput
              placeholder="Confirm Password"
              [(ngModel)]="confirmpassword"
              required
              minlength="6"
              name="confirmpassword"
            />
            <mat-icon
              matSuffix
              (click)="hide = !hide"
              style="cursor: pointer;"
              >{{ hide ? 'visibility' : 'visibility_off' }}</mat-icon
            >
          </mat-form-field>
        </div>
        <div *ngIf="busy">
          <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </div>
        <div>
          <div id="recaptcha-container"></div>
        </div>
        <div>
          <button
            mat-button
            class="mt-3"
            color="primary"
            type="submit"
            [disabled]="registerForm.invalid"
          >
            Continue
          </button>
        </div>
        <div>
          <p>
            <a
              class="float:right"
              [routerLink]="['/auth/login']"
              mat-stroked-button
              (click)="clearReferral()"
              color="secondary"
              >Login instead</a
            >
          </p>
        </div>
      </form>
    </div>
  </div>
</div>
